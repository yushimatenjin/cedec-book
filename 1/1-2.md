

##### コインドーザーの完成図
![](/assets/kanseizu.png)

今回は`コインドーザー`は以下の機能を持っている物を作ります。3Dモデルやテクスチャでなどのアセットはあらかじめ用意されているものを使用します。


1. ユーザーが使用できるコインの枚数を制御する
2. 一定間隔でコインが増える
3. タッチされた場所にコインを複製してワールドに`PlayCanvas`の画面上に複製をする
4. 落ちた場所によって得点が増える
5. 床に触れたらコインが消える

### 本章のゴールについて

- `PlayCanvas`で簡単なスクリプトの操作をできる。
- `PlayCanvas Editor`の機能を使用して公開までをする事ができる。


####  1.フォーク（プロジェクトの複製）
![](/assets/fork1.png)

[https://playcanvas.com/project/636348](https://playcanvas.com/project/636348)


上記リンクからプロジェクトにアクセスをし「Forkボタン」の横にある数字の部分を押してくださいCoinDozerと入力して「Fork」ボタンを押します。

#### 2.プロジェクトからエディタの起動

![](/assets/fork4.png)
エディタを起動するにはプロジェクトのページにアクセスをし、`Editor`ボタンをクリックし起動をします

#### 3.シーンの選択
![](/assets/tu-1.png)
シーンの選択画面が出てきますので、`handson` というシーンを選択してください。

![](/assets/launch-jie-guo.png)

`handson`のシーンが選択できたらコインドーザーのモデルがすでに入っているシーンが表示されたかと思います。  
今回はこのようなモデル最初から含んだ状態のプロジェクトをコインドーザーを実際にコインドーザーとして動くものに作り変えていきます。

### 当たり判定を付けるためにコンポーネントを追加する
現在の状態だとゲームを起動してもコインがすり抜けてしまっています。これを解消するためには、コインドーザーのプッシャーに対してコインがぶつかった場合にプッシャーの上に乗るようにします。

位置の調整をしたら今度は当たり判定を追加していきます。PlayCanvasでは`Entity`が持つ機能(当たり判定・アニメーション・マテリアル情報など)こちらについては`コンポーネント`という単位で管理をしています。
今回は`pusher`に対して当たり判定と跳ね返りを追加させるためにエンティティタブの`ADD COMPONENT`を押して以下の3つの`コンポーネント`を追加してください。2つのコンポーネントを追加します。


#### 1. エンティティにコンポーネントを追加する
![](/assets/component12.png)

1. pusherを選択する
2. `ADD COMPONENTをクリック`

#### 2. COLLISIONを追加
![](/assets/component3.png)


#### 3. COLLISIONの設定をする
![](/assets/component4.png)

COLLISIONの値をそれぞれ以下の値に設定をします。

| Half Extents | Value |
| :----------- | :---- |
| x            | 2.3   |
| y            | 0.275   |
| z            | 1.8   |
 


#### 4. RIGID BODYを追加する

![](/assets/component5.png)

ADD COMPONENTからRIGID BODYを追加します。

#### 5. RIGID BODYを設定する
![](/assets/component6.png)

`RIGID BODY`の値を`Kinematic`に変更する

 これによりゲームを起動をしたときにコインがすり抜けなくなりました。